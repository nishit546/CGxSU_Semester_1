
# **Arrow Functions**

Arrow functions were introduced in ES6 and quickly became the **most widely used function syntax** in modern JavaScript and React.

This article explains:

* What arrow functions are
* How they differ from regular functions
* All arrow function syntaxes
* Implicit vs explicit return
* Returning objects
* Default parameters
* Arrow functions with array methods
* Lexical `this` (deep dive + diagrams)
* Why arrow functions do NOT have `this`, `arguments`, `prototype`, or `constructors`
* When arrow functions should NOT be used
---

# **1. What Are Arrow Functions?**

Arrow functions are a **shorter and more predictable** way of writing functions.

Regular function:

```javascript
function greet(name) {
    return "Hello " + name;
}
```

Arrow function:

```javascript
const greet = (name) => {
    return "Hello " + name;
};
```

### Why arrow functions?

* Shorter syntax
* Implicit return (in some cases)
* Lexical `this` (VERY important)
* Used everywhere in modern JS and React
* Perfect for callbacks

---

# **2. Arrow Function Syntax (All Forms)**

### **A. Basic Syntax**

```javascript
const fn = () => {
    console.log("Hi");
};
```

### **B. Arrow Function with One Parameter**

Parentheses optional:

```javascript
const square = x => x * x;
```

### **C. Multiple Parameters**

Parentheses required:

```javascript
const add = (a, b) => a + b;
```

### **D. No Parameters**

Use empty parentheses:

```javascript
const info = () => "CodingGita";
```

### **E. Explicit Return (with {})**

```javascript
const sum = (a, b) => {
    return a + b;
};
```

### **F. Implicit Return (no return keyword)**

```javascript
const sum = (a, b) => a + b;
```

### **G. Returning an Object**

Must wrap object in parentheses:

```javascript
const student = () => ({ name: "Krishna", age: 18 });
```

Otherwise, {} will be treated as code block — beginner mistake.

---

# **3. Arrow Functions with Default Parameters**

```javascript
const greet = (name = "Guest") => {
    console.log("Hello " + name);
};

greet();      // Hello Guest
greet("Arjun"); // Hello Arjun
```

---

# **4. Arrow Functions in One Line**

```javascript
const double = n => n * 2;
const show = () => console.log("Hello");
```

This is the most common usage in React.

---

# **5. Arrow Functions Are Always Expressions**

This means:

```javascript
const fn = () => {};
```

is the only valid form.

Unlike regular functions:

```javascript
function fn() {}
```

Arrow functions **cannot be hoisted** like function declarations.

---

# **6. Arrow Functions vs Regular Functions (Deep Comparison)**

| Feature            | Regular Function      | Arrow Function           |
| ------------------ | --------------------- | ------------------------ |
| Syntax             | Long                  | Short                    |
| this binding       | Dynamic               | Lexical (from parent)    |
| arguments object   | Available             | ❌ Not available          |
| Can be constructor | ✔ Yes                 | ❌ No                     |
| Has prototype      | ✔ Yes                 | ❌ No                     |
| Hoisted            | ✔ Yes                 | ❌ No                     |
| Best use           | Methods, constructors | Callbacks, array methods |

This difference in `this` is the single most important part.

---

# **7. Arrow Functions and Array Methods**

Arrow functions are essential for:

### **A. map()**

```javascript
const marks = [80, 90, 85];

const updated = marks.map(m => m + 5);
```

### **B. filter()**

```javascript
const high = marks.filter(m => m >= 85);
```

### **C. reduce()**

```javascript
const total = marks.reduce((acc, m) => acc + m, 0);
```

### **D. forEach()**

```javascript
marks.forEach(m => console.log(m));
```

Arrow functions make these readable and concise.

---

# **8. Lexical this (The MOST important topic)**

Arrow functions **do not have their own `this`**.
They inherit `this` from their surrounding scope.

This is DIFFERENT from regular functions.

---

# **9. Regular Function this (Dynamic)**

```javascript
const student = {
    name: "Yashvi",
    show: function () {
        console.log(this.name);
    }
};

student.show(); // "Yashvi"
```

Regular function → this = object calling it.

---

# **10. Arrow Function this (Lexical)**

```javascript
const student = {
    name: "Yashvi",
    show: () => {
        console.log(this.name);
    }
};

student.show(); // undefined
```

Why?

Arrow functions **do NOT get their own this**.
They use the this from the parent scope (global).

So:

```
this.name in global → undefined
```

---

# **11. Detailed Diagram (Very Important)**

Code:

```javascript
const obj = {
    a: 10,
    fn: () => {
        console.log(this.a);
    }
};
obj.fn();
```

Memory:

* Arrow fn does NOT bind `this`
* Looks at parent scope (global)
* Global has no `a`
* Result → undefined

---

# **12. Lexical this Helps Fix Callback Problems**

Before ES6:

```javascript
function Person() {
    this.age = 18;

    setInterval(function () {
        console.log(this.age);
    }, 1000);
}

new Person();
```

this refers to window → undefined.

Solution: Arrow functions.

```javascript
function Person() {
    this.age = 18;

    setInterval(() => {
        console.log(this.age);
    }, 1000);
}

new Person();
```

Now:

* Arrow fn inherits this from Person
* Works correctly

---

# **13. Arrow Functions Do NOT Have arguments Object**

Example:

```javascript
const fn = () => {
    console.log(arguments);
};

fn(1, 2, 3); // ❌ Error
```

Solution: Use rest parameters.

```javascript
const fn = (...args) => {
    console.log(args);
};
```

---

# **14. Arrow Functions Cannot Be Used as Constructors**

Regular functions:

```javascript
function Student() {
    this.name = "Krishna";
}

const s = new Student(); // works
```

Arrow functions:

```javascript
const Student = () => {
    this.name = "Krishna";
};

new Student(); // ❌ TypeError
```

Arrow functions have no:

* `this`
* `prototype`
* `constructor` behavior

---

# **15. Arrow Functions Have No prototype**

```javascript
const fn = () => {};
console.log(fn.prototype); // undefined
```

Regular functions:

```javascript
function fn() {}
console.log(fn.prototype); // {}
```

---

# **16. When NOT to Use Arrow Functions (Very Important)**

### **A. Object methods**

Bad:

```javascript
const obj = {
    name: "Jenil",
    show: () => console.log(this.name)
};
```

show → undefined.

Correct:

```javascript
const obj = {
    name: "Jenil",
    show() {
        console.log(this.name);
    }
};
```

---

### **B. Constructor functions**

❌ Arrow functions cannot be used with new.

---

### **C. Event listeners (sometimes)**

Bad:

```javascript
element.addEventListener("click", () => {
    console.log(this); // window
});
```

If you need the clicked element, use regular function:

```javascript
element.addEventListener("click", function () {
    console.log(this); // element
});
```

---

### **D. Methods inside classes (for inheritance)**

Class methods should NOT be arrow functions unless you want lexical this.

---

# **17. Real Examples**

### **Example 1: Calculating average in one line**

```javascript
const avg = (a, b, c) => (a + b + c) / 3;
```

---

### **Example 2: Adding 5 marks to all students**

```javascript
const marks = [80, 85, 90];
const updated = marks.map(m => m + 5);
```

---

### **Example 3: Filtering students who scored > 90**

```javascript
const toppers = marks.filter(m => m > 90);
```

---

### **Example 4: Summing marks using reduce**

```javascript
const total = marks.reduce((acc, m) => acc + m, 0);
```

---

# **18. Common Mistakes**

### **Mistake 1: Forgetting () when returning objects**

```javascript
const fn = () => { name: "Krishna" }; // ❌ undefined
```

Fix:

```javascript
const fn = () => ({ name: "Krishna" });
```

---

### **Mistake 2: Using arrow functions for object methods**

---

### **Mistake 3: Expecting this to behave like regular functions**

---

### **Mistake 4: Using arguments inside arrow functions**

---

### **Mistake 5: Using arrow function as constructor**

---

# **19. Summary Table**

| Feature          | Arrow Function           | Regular Function             |
| ---------------- | ------------------------ | ---------------------------- |
| this binding     | lexical                  | dynamic                      |
| arguments object | ❌ no                     | ✔ yes                        |
| constructor      | ❌ no                     | ✔ yes                        |
| prototype        | ❌ no                     | ✔ yes                        |
| hoisting         | ❌ no                     | ✔ yes                        |
| best use         | callbacks, array methods | object methods, constructors |

---

# **20. Exercises**

### **Exercise 1**

Convert this to an arrow function:

```javascript
function add(a, b) {
    return a + b;
}
```

---

### **Exercise 2**

Write an arrow function to return an object:

```javascript
{ id: 101, name: "Mahir" }
```

---

### **Exercise 3**

Fix the error:

```javascript
const fn = () => {
    console.log(arguments);
};
fn(1, 2, 3);
```

---

### **Exercise 4**

Predict output:

```javascript
const obj = {
    x: 10,
    show: () => console.log(this.x)
};
obj.show();
```

---

### **Exercise 5**

Create an arrow function using reduce to sum marks.

---

# **21. MCQs**

### Q1. Arrow functions have:

1. Their own this
2. Lexical this
3. Dynamic this
4. No this

**Answer: 2**

---

### Q2. Arrow functions cannot:

1. Be used in callbacks
2. Return values
3. Be constructors
4. Accept parameters

**Answer: 3**

---

### Q3. What will this return?

```javascript
const fn = () => ({ n: 10 });
```

1. undefined
2. {}
3. { n: 10 }
4. Error

**Answer: 3**

---

### Q4. Arrow functions do NOT have:

1. prototype
2. this
3. arguments
4. All of the above

**Answer: 4**

---

# **22. Mini Assignment — CodingGita "Student Marks Processor"**

Given:

```javascript
const students = [
    { name: "Jenil", marks: 85 },
    { name: "Krishna", marks: 92 },
    { name: "Arjun", marks: 78 }
];
```

Use arrow functions to:

1. Create an array of student names
2. Add +5 bonus to all marks
3. Filter students who scored above 90
4. Compute total marks
5. Compute average marks
6. Return a final summary object

This must use:

* map
* filter
* reduce
* arrow functions everywhere

---

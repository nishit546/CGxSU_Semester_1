# **try, catch, throw, finally in JavaScript**

# 1. Why We Need try–catch–throw–finally

JavaScript normally **stops executing** when it hits an error:

```javascript
console.log("Start");

console.log(studentName); // error: studentName is not defined

console.log("End"); // never runs
```

Errors break execution.

`try–catch–throw–finally` allows code to:

* catch errors
* continue running
* show custom messages
* clean up resources
* validate data
* prevent program crashes

This is extremely important for:

* form validation
* API calls
* login systems
* payment processing
* data conversion

---

# 2. try…catch — Basic Syntax

```javascript
try {
    // code that MAY have errors
}
catch (error) {
    // code that runs if an error happens
}
```

Example:

```javascript
try {
    console.log(studentName); // not defined
}
catch (err) {
    console.log("Error occurred:", err);
}
```

### Output:

```
Error occurred: ReferenceError: studentName is not defined
```

Execution **continues after catch**.

---

# 3. The catch Parameter

`catch(error)` receives a special error object.

It contains:

* error name
* error message

Example:

```javascript
try {
    console.log(x); // x doesn't exist
}
catch (e) {
    console.log("Name:", e.name);
    console.log("Message:", e.message);
}
```

Output:

```
Name: ReferenceError
Message: x is not defined
```

---

# 4. Example: Handling Invalid User Input

```javascript
try {
    var marks = parseInt("ABC"); // NaN

    if (isNaN(marks)) {
        throw "Marks must be a number";
    }

    console.log(marks);
}
catch (e) {
    console.log("Error:", e);
}
```

---

# 5. What is throw?

`throw` is used to **manually create an error**.

Syntax:

```javascript
throw "message";
throw 500;
throw { type: "InvalidInput", msg: "Enter valid marks" };
```

JavaScript will immediately jump to catch.

---

# 6. Creating Custom Validation

Example: marks must be 0–100.

```javascript
try {
    var marks = 150;

    if (marks < 0 || marks > 100) {
        throw "Marks out of range";
    }

    console.log("Marks:", marks);
}
catch (e) {
    console.log("Error:", e);
}
```

---

# 7. Using throw inside functions

```javascript
function divide(a, b) {
    if (b === 0) {
        throw "Cannot divide by zero";
    }
    return a / b;
}

try {
    console.log(divide(10, 0));
}
catch (error) {
    console.log("Caught:", error);
}
```

---

# 8. Multiple try–catch Blocks

```javascript
try {
    console.log("Step 1");
}
catch (e) {
    console.log("Error 1:", e);
}

try {
    console.log(unknown);
}
catch (e) {
    console.log("Error 2:", e.message);
}
```

---

# 9. finally — Code That ALWAYS Runs

Syntax:

```javascript
try {
    // risky code
}
catch (e) {
    // handle error
}
finally {
    // ALWAYS executes
}
```

### Example:

```javascript
try {
    console.log(a); // a not defined
}
catch (e) {
    console.log("Error happened");
}
finally {
    console.log("Cleanup complete");
}
```

Output:

```
Error happened
Cleanup complete
```

---

# 10. finally Runs Even If There Is No Error

```javascript
try {
    console.log("No error here");
}
catch (e) {
    console.log("This won’t run");
}
finally {
    console.log("Always runs");
}
```

---

# 11. finally Runs Even If You Return

```javascript
function test() {
    try {
        return "Returning from try";
    }
    finally {
        console.log("Finally still executed");
    }
}

console.log(test());
```

Output:

```
Finally still executed
Returning from try
```

---

# 12. Nested try–catch

```javascript
try {
    try {
        console.log(x); // error
    }
    catch (inner) {
        console.log("Inner catch:", inner.message);
    }
}
catch (outer) {
    console.log("Outer catch:", outer.message);
}
```

---

# 13. Distinguishing Error Types

JavaScript throws different errors:

| Error Type     | Meaning                           |
| -------------- | --------------------------------- |
| ReferenceError | variable doesn't exist            |
| TypeError      | wrong data type or invalid action |
| SyntaxError    | incorrect code syntax             |
| RangeError     | number is out of allowed range    |

Example:

```javascript
try {
    (10).toPrecision(200); // too many digits
}
catch (e) {
    console.log(e.name); // RangeError
}
```

---

# 14. Real-Life Example

### Validating Student Marks List

```javascript
try {
    var marks = [85, 90, 110, 70]; // 110 invalid

    for (var i = 0; i < marks.length; i++) {

        if (typeof marks[i] !== "number") {
            throw "Non-numeric value at index " + i;
        }

        if (marks[i] < 0 || marks[i] > 100) {
            throw "Invalid marks at index " + i;
        }
    }

    console.log("All marks valid");
}
catch (e) {
    console.log("Error:", e);
}
finally {
    console.log("Validation complete");
}
```

---

# 15. try–catch DOES NOT catch syntax errors outside try

Wrong:

```javascript
try
    console.log("Hello"); // missing braces → SyntaxError outside try
catch (e) {
    console.log("Error");
}
```

Correct:

```javascript
try {
    console.log("Hello");
}
catch (e) {
    console.log("Error");
}
```

---

# 16. Common Mistakes Students Make

1. Writing invalid syntax inside try
2. Forgetting catch parameter
3. Using throw incorrectly
4. Throwing numbers instead of messages
5. Assuming finally won't run

---

# 17. Practice Exercises

### Exercise 1

Write a program that takes age.
Throw error if:

* age < 0
* age > 120
* age is not a number

Use try–catch–finally.

---

### Exercise 2

Create a function `squareRoot(n)` that:

* throws error if n is negative
* returns sqrt otherwise
* wrap the function call in try–catch

---

### Exercise 3

Try this and explain output:

```javascript
try {
    throw "Error in try";
}
catch (e) {
    console.log("Caught:", e);
}
finally {
    console.log("Completed");
}
```

---

### Exercise 4

Validate this array:

```javascript
var data = [20, "A", 30];
```

Throw error if non-numeric value is found.

---

### Exercise 5

Simulate:

* Start process
* If an error occurs, catch it
* Always print "Process finished" in finally block

---

# 18. Multiple Choice Questions

### Q1. Which keyword creates a custom error?

1. error
2. catch
3. throw
4. finally

**Answer: 3**

---

### Q2. finally block executes:

1. Only if there is no error
2. Only if an error occurs
3. Always
4. Never

**Answer: 3**

---

### Q3. catch block receives:

1. A number
2. A string
3. An error object
4. A list

**Answer: 3**

---

### Q4. Which of these is valid?

```javascript
throw "Invalid Input";
```

**Answer: Valid**

---

### Q5. Which error type occurs if variable is not defined?

1. SyntaxError
2. TypeError
3. ReferenceError
4. RangeError

**Answer: 3**

---

# 19. Mini Assignment

Write a complete program for CodingGita student registration.

Requirements:

1. Input fields:

   * name
   * age
   * marks

2. Validate:

   * name must be string
   * age between 16 and 30
   * marks between 0 and 100

3. If any validation fails:

   * throw appropriate error string
   * catch and print error clearly

4. finally block must always print:

```
Registration attempt finished.
```

This tests mastery of:

* try
* catch
* throw
* finally
* validation logic
* debugging

---

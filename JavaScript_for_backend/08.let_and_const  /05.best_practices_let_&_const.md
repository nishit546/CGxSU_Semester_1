# **Best Practices, Coding Standards & Pitfalls (let & const)**

This article focuses on:

* How professionals use let & const
* When to choose which
* Why var should be avoided completely
* How to avoid the pitfalls that even working engineers make

---

# **1. Golden Rule: “Use const by default”**

Professional JavaScript teams (Google, Airbnb, Meta, Microsoft) follow:

```
Use const unless you know the value will change.
Use let when reassignment is required.
Never use var.
```

### Why const by default?

Because const gives:

* Safety
* Predictable behavior
* Reduces accidental reassignment bugs
* Easier to refactor
* Makes code easier to understand

Example:

```javascript
const PI = 3.14;
const studentName = "Krishna";
const marks = [90, 88, 85];
const details = { city: "Ahmedabad" };
```

None of these need reassignment → const is ideal.

---

# **2. When to Use let (Clear Rules)**

Use **let** when:

### **A. Value changes over time**

```javascript
let score = 0;
score = score + 10;
```

### **B. Loop counters**

```javascript
for (let i = 1; i <= 5; i++) { }
```

### **C. State changes**

```javascript
let isLoggedIn = false;
isLoggedIn = true;
```

### **D. Temporary block-scoped variables**

```javascript
{
    let message = "Welcome";
    console.log(message);
}
```

If the variable changes → let
If not → const.

---

# **3. When (and Why) var Must Never Be Used**

Beginners often do:

```javascript
var x = 10;
```

But var introduces:

### **A. No block scope**

→ variables leak outside if-blocks, for-loops

### **B. Hoists without TDZ**

→ unpredictable behavior

### **C. Creates shared closure issues in loops**

### **D. Allows redeclaration (dangerous)**

```javascript
var x = 10;
var x = 20; // no error
```

### **E. Not used in modern codebases**

100% of modern JS (React, Node.js, Angular, Vue) avoids `var` completely.

---

# **4. NEVER Mix let and var in the Same Scope**

Bad example:

```javascript
var batch = "CSE";
let batch = "AI"; // ❌ SyntaxError
```

Even if names differ, mixing var & let in the same conceptual block creates unpredictable behavior due to hoisting and scope rules.

Professional rule:

```
If you use let or const anywhere in a file,
DO NOT use var in that file at all.
```

---

# **5. Grouping Variables — Professional Style**

Good:

```javascript
const name = "Arjun";
const branch = "CSE";
let marks = 90;
```

Bad:

```javascript
let a, b, c;
```

Better:

```javascript
let total = 0;         // changes
const MAX_STUDENTS = 60; // constant
```

---

# **6. Do Not Declare Unused Variables**

Bad:

```javascript
let x;
```

Good:

```javascript
let x = calculateValue();
```

Better to declare exactly when needed.

---

# **7. Avoid Reassigning Variables for Multiple Purposes**

Bad:

```javascript
let data = 10;
data = "Krishna";  
data = [1,2,3];
```

This causes debugging hell.

Professional rule:

```
One variable = One purpose.
```

---

# **8. Choosing const vs let for Arrays & Objects**

### Student data changes frequently:

→ Use const for the structure, but mutate internally

```javascript
const student = {
    name: "Jenil",
    city: "Ahmedabad"
};

student.city = "Surat";  // ✔ common pattern
```

Why const?

* Prevents accidentally replacing the entire object
* Allows safe internal updates

---

# **9. Never Reassign Objects/Arrays Meant To Be const**

Bad:

```javascript
const student = { name: "Krishna" };
student = {}; // ❌ not allowed
```

Correct:

```javascript
let student = { name: "Krishna" }; // if you plan to replace object
```

Rule:

```
If object identity changes → use let
If object content changes → use const
```

---

# **10. Temporal Dead Zone (TDZ) — How to Avoid Bugs**

TDZ occurs when using variables before declaration.

Bad:

```javascript
console.log(marks); // ❌ TDZ error
let marks = 90;
```

Correct:

```javascript
let marks = 90;
console.log(marks);
```

Professional practice:

* Always declare variables at the top of a block
* Initialize immediately if possible

---

# **11. Do Not Overuse let — Structure Code for const**

Bad:

```javascript
let arr = [1,2,3];
let obj = { a: 10 };
let name = "Krishna";
```

Better:

```javascript
const arr = [1,2,3];
const obj = { a: 10 };
const name = "Krishna";
```

let should be rare.

---

# **12. let inside Loops — Use Carefully**

Never put let inside while(true) or unknown termination loops unless variable must change.

Good:

```javascript
let i = 0;
while (i < 5) { i++; }
```

Bad:

```javascript
while (true) {
    let value = getValue(); // recreated each time
}
```

---

# **13. Shadowing Best Practices**

Shadowing is allowed:

```javascript
let x = 10;
{
    let x = 20; // new variable
}
```

But deeply nested shadowing becomes confusing.

Bad:

```javascript
let data = 10;

{
    let data = 20;
    {
        let data = 30;
    }
}
```

Rule:

```
Shadow only when meaningful.
Avoid repeated names across many blocks.
```

---

# **14. Naming Conventions (Industrial Standards)**

### Constants (that truly never change)

Use UPPER_CASE:

```javascript
const API_URL = "http://codinggita.com/api";
const MAX_USERS = 50;
```

### Variables that change

Use camelCase:

```javascript
let totalMarks = 0;
let studentCount = 5;
```

### Objects/Arrays

Use nouns:

```javascript
const studentList = [];
const studentProfile = {};
```

---

# **15. Clean Code Example**

Bad:

```javascript
var x = 10;
let y = 20;
const z = [1,2,3];
y = 30;
z.push(4);
var x = 50;
```

Good:

```javascript
const marks = [85, 90, 80];
marks.push(95);

let total = 0;
for (let i = 0; i < marks.length; i++) {
    total += marks[i];
}

const AVERAGE_MARKS = total / marks.length;
```

---

# **16. Common Pitfalls Students Make**

### Pitfall 1: Using var because it “looks simple”

### Pitfall 2: Using let for everything

(let is not meant to be default)

### Pitfall 3: Assuming const freezes everything

### Pitfall 4: Accidentally shadowing variables

### Pitfall 5: Reassigning const variables inside loops

### Pitfall 6: Mutating const objects accidentally

---

# **17. MCQs**

### Q1. Which is best practice?

1. Use var mostly
2. Use let for everything
3. Use const by default
4. Use only global variables

**Answer: 3**

---

### Q2. Which of the following is correct?

```javascript
const arr = [1,2,3];
```

1. arr cannot change at all
2. arr cannot be reassigned
3. arr is frozen
4. arr becomes a primitive

**Answer: 2**

---

### Q3. Shadowing var with let:

1. Legal
2. Illegal
3. Allowed in strict mode only
4. Allowed inside functions only

**Answer: 1**

---

### Q4. What should be avoided?

1. Using const for objects
2. Using let for counters
3. Using var
4. Using block scope

**Answer: 3**

---

### Q5. TDZ means:

1. Variable exists with undefined
2. Variable cannot be accessed before initialization
3. Value cannot be changed
4. Variable is global

**Answer: 2**

---

# **18. Practice Exercises**

### **Exercise 1**

Rewrite using best practices:

```javascript
var marks = [90, 85];
marks = [80, 70];
```

---

### **Exercise 2**

Explain why this is wrong:

```javascript
let details = { city: "Ahmedabad" };
const details = { city: "Surat" };
```

---

### **Exercise 3**

Fix variable usage:

```javascript
let x = 10;
x = 20;

const x = 30; // error
```

---

### **Exercise 4**

Rewrite this code using best practices:

```javascript
var total = 0;
var list = [1,2,3];

for (var i = 0; i < list.length; i++) {
    total += list[i];
}
```

---

### **Exercise 5**

Create a script using let/const that calculates:

* total marks
* highest mark
* average
* results stored in a const object

---

# **19. Mini Assignment — CodingGita Lecture Management**

Create:

```javascript
const lectures = [
    { topic: "HTML", duration: 2 },
    { topic: "CSS", duration: 3 }
];
```

Tasks:

1. Add new lecture `"JavaScript"` with duration 4
2. Do not reassign the main array
3. Use let only for counters
4. Add a const object summarizing:

   * total duration
   * number of lectures
5. Write 4–5 lines explaining why const was ideal for the lectures array

---

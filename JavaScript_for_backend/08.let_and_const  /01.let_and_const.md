# **let and const**

ES6 (ECMAScript 2015) introduced **let** and **const**, which solved many long-standing problems with the old `var` keyword.

---

# **1. Why Did JavaScript Introduce let and const?**

Before ES6, developers only had:

```javascript
var x = 10;
```

But `var` had major issues:

* It ignores block boundaries
* It allows re-declaration in the same scope
* It behaves unpredictably inside loops
* It is hoisted in a confusing way

To fix these problems, ES6 introduced:

* **let** → Modern variable declaration
* **const** → Modern constant declaration

Both follow **block scope**, not function scope.

---

# **2. What Is Block Scope?**

A block is anything written inside **curly braces** `{ }`.

Examples of blocks:

```javascript
{
}

if (true) {
}

for (let i = 0; i < 5; i++) {
}

while (condition) {
}
```

Variables declared with **let** and **const** exist only inside their block.

---

# **3. let – Modern Block-Scoped Variable**

`let` creates a variable that belongs **only to the block** where it is defined.

### Example 1: let inside a block

```javascript
{
    let a = 10;
    console.log(a); // 10
}

console.log(a); // Error: a is not defined
```

Here, `a` lives **only inside the block**.

---

### Example 2: let inside if-else

```javascript
if (true) {
    let city = "Ahmedabad";
    console.log(city); // Ahmedabad
}

console.log(city); // Error: city is not defined
```

---

# **4. let vs var – The Big Difference**

### Example: var leaks outside block

```javascript
if (true) {
    var x = 100;
}
console.log(x); // 100
```

### Example: let stays inside block

```javascript
if (true) {
    let x = 100;
}
console.log(x); // Error: x is not defined
```

This is the core improvement.

---

# **5. let – Reassignment Allowed, Redeclaration Not Allowed**

### Correct: Reassigning

```javascript
let name = "Krishna";
name = "Yashvi"; // allowed
```

### Incorrect: Redeclaring

```javascript
let name = "Krishna";
let name = "Yashvi";  // Error (same name in same scope)
```

---

# **6. const – Block-Scoped Constant**

`const` works like `let`, but the value **cannot be reassigned**.

### Example:

```javascript
const PI = 3.14;
PI = 3.25; // Error
```

Important:

* const must be **initialized at the time of declaration**
* const also uses **block scope**

---

# **7. const Must Have a Value at Start**

Incorrect:

```javascript
const a;   // Error
```

Correct:

```javascript
const a = 10;
```

---

# **8. const Does Not Make Values “Unchangeable”**

This is one of the most misunderstood points.

### const locks the **variable**, not the **value**.

Example with array:

```javascript
const arr = [10, 20, 30];
arr.push(40);   // allowed

console.log(arr); // [10, 20, 30, 40]
```

Example with object:

```javascript
const student = { name: "Arjun", age: 18 };

student.age = 19; // allowed

console.log(student); // {name: "Arjun", age: 19}
```

The object can change, but the variable binding cannot change.

---

# **9. let vs const – When to Use Which?**

### Use **const** when:

* The variable should not be reassigned
* You store arrays
* You store objects
* You store configuration or API URLs
* Values should remain constant

Example:

```javascript
const BASE_URL = "https://codinggita.com/api";
```

---

### Use **let** when:

* The value needs to change
* Loop counters
* Temporary calculations
* User inputs
* Variables inside conditions

Example:

```javascript
let score = 0;
score = score + 10;
```

---

# **10. let and const in Loops**

### let creates a **block-scoped loop variable**

```javascript
for (let i = 1; i <= 3; i++) {
    console.log(i);
}

console.log(i); // Error
```

### var behaves incorrectly in loops

```javascript
for (var i = 1; i <= 3; i++) {
    console.log(i);
}

console.log(i); // 4 (leaks outside loop)
```

This is why ES6 encourages the use of **let**.

---

# **11. Practical Example**

### Example: Track student attendance

```javascript
let presentCount = 0;

const studentList = ["Jenil", "Mahir", "Krishna"];

for (let i = 0; i < studentList.length; i++) {
    presentCount++;
}

console.log("Total Present:", presentCount);
```

Here:

* `presentCount` uses `let` because the value changes
* `studentList` uses `const` because we don't reassign the array

---

# **12. Real-World Usage in Projects**

### Example: API URL (constant)

```javascript
const API_URL = "https://codinggita.com/api/students";
```

### Example: User score (changing)

```javascript
let score = 0;
score = score + 20;
```

### Example: Form input tracking

```javascript
let username = "";
let password = "";
```

### Example: Storing configuration

```javascript
const MAX_LOGIN_ATTEMPTS = 5;
```

---

# **13. Common Mistakes**

### Mistake 1: Thinking const makes array unchangeable

```javascript
const arr = [1, 2];
arr.push(3);   // allowed
```

### Mistake 2: Redeclaring let

```javascript
let x = 10;
let x = 20; // Error
```

### Mistake 3: Forgetting const needs initial value

```javascript
const x; // Error
```

### Mistake 4: Using var inside loops

```javascript
for (var i = 0; i < 5; i++) {}
console.log(i); // error in logic
```

### Mistake 5: Using let unnecessarily

Students often use let for everything.
Standard practice is:

**Use const by default, let only when needed.**

---

# **14. Summary Table**

| Feature           | var         | let                | const                      |
| ----------------- | ----------- | ------------------ | -------------------------- |
| Scope             | Function    | Block              | Block                      |
| Reassign          | Yes         | Yes                | No                         |
| Redeclare         | Yes         | No                 | No                         |
| Initialization    | Optional    | Optional           | Required                   |
| Hoisting Behavior | Hoisted     | Hoisted (advanced) | Hoisted (advanced)         |
| Ideal Use         | Legacy code | Changing values    | Constants, arrays, objects |

---

# **15. Practice Exercises**

### Exercise 1

Rewrite this code using let and explain each change:

```javascript
var city = "Vadodara";
if (true) {
    var city = "Surat";
}
console.log(city);
```

---

### Exercise 2

Declare a const object named `student` with name, age, course.
Modify internal fields.

---

### Exercise 3

Write a loop that prints numbers 1 to 5 using let so that the loop variable stays inside the loop.

---

### Exercise 4

Predict the output:

```javascript
let a = 5;
a = 10;
console.log(a);
```

---

### Exercise 5

Why is this code wrong?

```javascript
let x = 20;
let x = 25;
```

---

# **16. Multiple Choice Questions**

### Q1. Which keyword is block-scoped?

1. var
2. let
3. const
4. Both let and const

**Answer: 4**

---

### Q2. const variables must:

1. be initialized immediately
2. be reassigned later
3. be used only in loops
4. none of the above

**Answer: 1**

---

### Q3. Output?

```javascript
let x = 10;
x = 20;
console.log(x);
```

1. 10
2. 20
3. undefined
4. Error

**Answer: 2**

---

### Q4. Which is true about let?

1. Cannot be reassigned
2. Block scoped
3. Must be initialized
4. Works exactly like var

**Answer: 2**

---

### Q5. Which is allowed?

```javascript
const arr = [1, 2, 3];
arr.push(4);
```

**Answer:** Allowed

---

# **17. Mini Assignment**

Create a script for CodingGita:

1. Use const to store:

   * Batch name
   * List of enrolled students
   * Details of a sample student (name, age, course)

2. Use let for:

   * Counter used to count total students
   * Temporary variables for calculations

3. Modify internal values inside const arrays/objects

4. Print all results clearly

5. Explain why const is used for reference types

---


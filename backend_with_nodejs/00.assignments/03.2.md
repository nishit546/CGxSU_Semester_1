
# Assignment 3.2

# State Analytics & Advanced Operations API

## Query Parameters, Filtering, Sorting, Aggregation & Pagination

---

# 1. Objective

Extend the existing **State Statistics Management API** by implementing advanced analytical and query-based endpoints.

This assignment evaluates:

* Query parameter handling
* Dynamic filtering
* Sorting logic
* Aggregation computation
* Pagination implementation
* Clean API design for analytics endpoints

This assignment must be built on top of Assignment 3.

No database is allowed.
All operations must work on the in-memory array.

---

# 2. Prerequisite

Students must:

* Complete Assignment 3 fully.
* Reuse the same states dataset.
* Maintain the same data structure.

---

# 3. New Route Requirements

This assignment introduces **Query-Based GET Routes Only**.

No new POST, PUT, PATCH, DELETE routes are required.

---

# A. Filtering Routes (Using Query Parameters)

---

## 1. GET `/states?minPopulation=50000000`

### Purpose

Return all states with population greater than or equal to the specified value.

### Example

```
GET /states?minPopulation=50000000
```

### Expected Behavior

* Filter dynamically using query parameter.
* Return matching states.
* Status 200.

### Concept Tested

* `req.query`
* Conditional filtering
* Dynamic request processing

---

## 2. GET `/states?minLiteracy=75`

Return all states with literacyRate greater than or equal to given value.

---

## 3. GET `/states?maxBudget=200000`

Return states where annualBudget is less than or equal to given value.

---

# B. Sorting Routes

---

## 4. GET `/states/sort/gdp`

Sort states by GDP in descending order.

### Expected

* Return sorted array
* Highest GDP first

---

## 5. GET `/states/sort/population?order=asc`

Sort states by population.

### Query Parameter

* `order=asc`
* `order=desc`

If no order provided → default to descending.

---

# C. Aggregation Routes

---

## 6. GET `/states/average-literacy`

Return average literacy rate across all states.

### Expected Response

```json
{
  "averageLiteracyRate": 74.65
}
```

---

## 7. GET `/states/total-population`

Return total population of all states combined.

```json
{
  "totalPopulation": 1234567890
}
```

---

## 8. GET `/states/top/:count`

Return top N states by GDP.

Example:

```
GET /states/top/5
```

Return top 5 states by GDP.

---

# D. Pagination

---

## 9. GET `/states?page=1&limit=5`

Implement basic pagination.

### Requirements

* page → page number
* limit → number of records per page

Example:

```
GET /states?page=2&limit=5
```

Must return correct subset of data.

---

# 4. Combined Query Support (Advanced)

Students must support combining filters where possible.

Example:

```
GET /states?minLiteracy=75&minPopulation=50000000
```

The API should apply both filters together.

---

# 5. Technical Requirements

Students must:

* Use Express
* Use express.json()
* Maintain CORS
* Use proper status codes
* Avoid code repetition
* Keep logic modular

No database
No authentication
No external libraries

---

# 6. Submission Requirements (Mandatory)

Students must submit:

1. Updated GitHub Repository Link

   * Assignment 3 + Assignment 4 combined
   * Clear README section for analytics routes

2. Postman Documentation Link

   * All new routes documented
   * Query examples included

3. Render Deployment Link

   * Working live API
   * Pagination and sorting tested

---

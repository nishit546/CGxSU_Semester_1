# Callbacks in JavaScript

## What is a Callback?

A **callback** is a **function passed as an argument to another function**, which is executed **later**, usually after some task is completed.

In JavaScript, callbacks are heavily used because many operations are **asynchronous** (they don’t block the main thread).

### Simple Definition

* You give a function to another function
* That function is called **after** some work is done

---

## Why Do We Need Callbacks?

JavaScript runs on a **single thread**.
If a task takes time (waiting, timers, API calls), JavaScript:

* Starts the task
* Moves on
* Calls the callback **when the task is ready**

This keeps applications fast and responsive.

---

## Basic Callback Example

```javascript
function greet(name, callback) {
  console.log("Hello " + name);
  callback();
}

function afterGreeting() {
  console.log("Greeting completed");
}

greet("Arjun", afterGreeting);
```

### Output

```
Hello Arjun
Greeting completed
```

Here:

* `afterGreeting` is a callback
* It runs after `greet` finishes its main work

---

## Callbacks with Timers

Now let’s see callbacks with **asynchronous timer functions**.

---

## `setTimeout` – Delayed Callback

Runs a callback **once** after a given delay.

```javascript
console.log("Start");

setTimeout(function () {
  console.log("This runs after 2 seconds");
}, 2000);

console.log("End");
```

### Output order

```
Start
End
This runs after 2 seconds
```

Reason:

* `setTimeout` is async
* Callback runs later

---

## `setInterval` – Repeated Callback

Runs a callback **again and again** after a fixed time gap.

```javascript
let count = 1;

const intervalId = setInterval(function () {
  console.log("Interval count:", count);
  count++;

  if (count > 3) {
    clearInterval(intervalId);
    console.log("Interval stopped");
  }
}, 1000);
```

### Output

```
Interval count: 1
Interval count: 2
Interval count: 3
Interval stopped
```

---

## `setImmediate` – Immediate Async Callback (Node.js)

`setImmediate` runs a callback **after the current execution finishes**, but **before timers**.

Works in **Node.js**, not browsers.

```javascript
console.log("Start");

setImmediate(function () {
  console.log("setImmediate callback");
});

setTimeout(function () {
  console.log("setTimeout callback");
}, 0);

console.log("End");
```

### Typical Output (Node.js)

```
Start
End
setImmediate callback
setTimeout callback
```

---

## Example 1: Callback After a Task Completes

```javascript
function completeTask(taskName, callback) {
  console.log("Task started:", taskName);
  callback();
}

function onComplete() {
  console.log("Task completed");
}

completeTask("File Upload", onComplete);
```

### Output

```
Task started: File Upload
Task completed
```

Key idea:

* One function finishes work
* Calls another function (callback)

---

## Example 2: Callback with Data Passed

```javascript
function calculateSum(a, b, callback) {
  const result = a + b;
  callback(result);
}

function showResult(value) {
  console.log("Sum is:", value);
}

calculateSum(10, 20, showResult);
```

### Output

```
Sum is: 30
```

Key idea:

* Callback can receive values
* Useful when result is ready later

---

## Example 3: Callback Used for Conditional Logic

```javascript
function checkAge(age, callback) {
  if (age >= 18) {
    callback("Allowed");
  } else {
    callback("Not allowed");
  }
}

checkAge(20, function (message) {
  console.log(message);
});
```

### Output

```
Allowed
```

Key idea:

* Callback handles decision results
* Keeps logic flexible

---

## Example 4: Callback with `setTimeout` (Real Async)

```javascript
function fetchData(callback) {
  console.log("Fetching data...");

  setTimeout(function () {
    callback("Data received successfully");
  }, 1500);
}

fetchData(function (response) {
  console.log(response);
});
```

### Output

```
Fetching data...
Data received successfully
```

Key idea:

* Callback runs **after async work**
* Common in APIs and timers

---


## Key Takeaways

* A **callback** is a function executed later
* `setTimeout` → runs once after delay
* `setInterval` → runs repeatedly
* `setImmediate` → runs after current execution (Node.js)
* Callbacks are the foundation of async JavaScript

---


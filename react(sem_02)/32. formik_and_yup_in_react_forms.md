# **Formik and Yup in React Forms**

## **What Are Formik and Yup?**

Formik and Yup are two libraries that work together to make **form handling and validation in React simple, clean, and reliable**.

### Formik
Formik is a form management library that helps you:
- Store form values
- Track user interaction
- Handle form submission
- Manage validation state

It removes the need to manually write `useState`, `onChange`, and validation logic for every input.

### Yup
Yup is a schema-based validation library that helps you:
- Define rules for each field
- Validate user input automatically
- Show meaningful error messages

Formik uses Yup to validate form data in a structured way.

In simple words:

> **Formik manages the form. Yup validates the form.**

Together, they create powerful, clean, and maintainable forms in React.

---

## ğŸ“ Recommended Folder Structure (Before Writing Any Code)

```text
src/
â”œâ”€â”€ forms/
â”‚   â””â”€â”€ LoginForm.jsx        # Formik form component
â”‚
â”œâ”€â”€ App.jsx
â””â”€â”€ main.jsx
```

### Why This Structure?
- `forms/` contains all form-related components
- Keeps form logic separate from UI layout
- Improves project organization

---

## ğŸ§© Step 1: Installing Formik and Yup

Before using Formik and Yup, install them in your React project.

```bash
npm install formik yup
```

### Explanation
- `formik` â†’ Handles form state and submission
- `yup` â†’ Handles validation rules

Both libraries are lightweight and production-ready.

---

## ğŸ§© Step 2: Creating the Form Component File

ğŸ“„ **File Path:** `src/forms/LoginForm.jsx`

This file will contain the complete form logic.

---

## ğŸ§© Step 3: Importing Required Libraries

```js
import { useFormik } from 'formik';
import * as Yup from 'yup';
```

### Explanation

- `useFormik` â†’ Core hook that connects React with Formik
- `Yup` â†’ Used to define validation rules

Without these imports, Formik and Yup cannot function.

---

## ğŸ§© Step 4: Defining Initial Form Values

Every form must start with default values.

```js
const initialValues = {
  email: '',
  password: ''
};
```

### Explanation

- These values represent the form's starting state
- Formik uses them to initialize internal storage
- Every field must exist here

**Key Idea:**
Formik owns these values after initialization.

---

## ğŸ§© Step 5: Creating Validation Schema Using Yup

Now we define rules for each input field.

```js
const validationSchema = Yup.object({
  email: Yup.string()
    .email('Invalid email format')
    .required('Email is required'),

  password: Yup.string()
    .min(6, 'Password must be at least 6 characters')
    .required('Password is required')
});
```

### Explanation

Each field has its own validation chain:

#### Email
- Must be a string
- Must be valid email format
- Cannot be empty

#### Password
- Must be a string
- Must be minimum 6 characters
- Cannot be empty

**Key Idea:**
All validation logic lives in one place.

---

## ğŸ§© Step 6: Initializing Formik Using useFormik

Now we connect everything using Formik.

```js
const formik = useFormik({
  initialValues,
  validationSchema,
  onSubmit: (values) => {
    console.log(values);
  }
});
```

### Explanation

Formik receives three main things:

1ï¸âƒ£ `initialValues` â†’ Starting data
2ï¸âƒ£ `validationSchema` â†’ Validation rules
3ï¸âƒ£ `onSubmit` â†’ What happens after successful submit

`formik` now becomes the controller of the form.

---

## ğŸ§© Step 7: Connecting Inputs to Formik

Each input must be connected to Formik.

```jsx
<input
  type="email"
  name="email"
  onChange={formik.handleChange}
  onBlur={formik.handleBlur}
  value={formik.values.email}
/>
```

### Explanation

Each property has a purpose:

- `name` â†’ Connects input to Formik field
- `handleChange` â†’ Updates form value
- `handleBlur` â†’ Tracks touched state
- `value` â†’ Displays stored value

Formik now controls this input.

---

## ğŸ§© Step 8: Showing Validation Error Messages

Errors should appear only after user interaction.

```jsx
{formik.touched.email && formik.errors.email && (
  <p>{formik.errors.email}</p>
)}
```

### Explanation

- `touched` â†’ User has interacted
- `errors` â†’ Validation failed

This prevents showing errors before typing.

---

## ğŸ§© Step 9: Handling Form Submission

Formik handles submission automatically.

```jsx
<form onSubmit={formik.handleSubmit}>
```

### Explanation

- Formik validates first
- If valid â†’ calls `onSubmit`
- If invalid â†’ blocks submission

No manual checking required.

---

## âœ… Complete Login Form (Final Code)

ğŸ“„ **File:** `src/forms/LoginForm.jsx`

```jsx
import { useFormik } from 'formik';
import * as Yup from 'yup';

const LoginForm = () => {

  const initialValues = {
    email: '',
    password: ''
  };

  const validationSchema = Yup.object({
    email: Yup.string()
      .email('Invalid email format')
      .required('Email is required'),

    password: Yup.string()
      .min(6, 'Password must be at least 6 characters')
      .required('Password is required')
  });

  const formik = useFormik({
    initialValues,
    validationSchema,
    onSubmit: (values) => {
      console.log(values);
    }
  });

  return (
    <form onSubmit={formik.handleSubmit}>

      <div>
        <label>Email</label>
        <input
          type="email"
          name="email"
          onChange={formik.handleChange}
          onBlur={formik.handleBlur}
          value={formik.values.email}
        />

        {formik.touched.email && formik.errors.email && (
          <p>{formik.errors.email}</p>
        )}
      </div>

      <div>
        <label>Password</label>
        <input
          type="password"
          name="password"
          onChange={formik.handleChange}
          onBlur={formik.handleBlur}
          value={formik.values.password}
        />

        {formik.touched.password && formik.errors.password && (
          <p>{formik.errors.password}</p>
        )}
      </div>

      <button type="submit">Login</button>

    </form>
  );
};

export default LoginForm;
```

---

## ğŸ§© Step 10: Using the Form in App.jsx

ğŸ“„ **File:** `src/App.jsx`

```jsx
import LoginForm from './forms/LoginForm';

function App() {
  return (
    <div>
      <LoginForm />
    </div>
  );
}

export default App;
```

---

## ğŸ§  Form-Centric Understanding

### With Formik + Yup:

- Components do NOT manage form logic
- Validation is centralized
- State is automatically managed
- Errors are predictable
- Code is clean and reusable

### Responsibilities

| Part   | Responsibility |
|--------|----------------|
| Formik | State + Submit |
| Yup    | Validation     |
| React  | UI Rendering   |

---

## ğŸ“Œ Key Takeaways

- Formik replaces manual form state
- Yup replaces manual validation
- Forms become scalable
- Code becomes maintainable
- Errors become consistent


# **Creating Documents in MongoDB**

Now that you understand **what CRUD is** and **why it matters**, it’s time to begin actual interaction with MongoDB.

The first and most fundamental CRUD operation is **Create**.

If you cannot insert data correctly:

* you cannot read it
* you cannot update it
* you cannot delete it

Everything in MongoDB starts with **creating documents correctly**.

In this article, we will focus only on **inserting data safely and clearly**—nothing more.

---

## **1. What Does “Create” Mean in MongoDB?**

In MongoDB, **Create** means:

> Inserting a new **document** into a **collection**

MongoDB does not work with rows.
It works with **documents**.

When you insert data:

* MongoDB stores the entire document
* Each document gets a unique identity
* The document becomes queryable immediately

---

## **Before You Insert: Basic MongoDB Shell Commands**

Before inserting any document, it is important to understand **where MongoDB will store the data**.
MongoDB always works inside a **current database context**, and insert commands depend on this context.

This section introduces the **minimum shell commands** required to safely perform insert operations.

---

### **1. Entering the MongoDB Shell**

To start working with MongoDB, open the MongoDB shell:

```bash
mongosh
```

Once inside the shell:

* You are connected to a MongoDB server
* MongoDB automatically places you inside a default database

---

### **2. Understanding the Current Database (`db`)**

In MongoDB, `db` refers to the **currently selected database**.

You can check the current database by running:

```javascript
db
```

By default, MongoDB connects you to a database named:

```
test
```

This database may not appear in listings if it contains no data.

---

### **3. Selecting a Database Using `use`**

Before inserting documents, you must select the database where the data should be stored.

This is done using the `use` command:

```javascript
use codinggita
```

Important points to understand:

* This command **does not immediately create** the database
* It only switches the current database context
* MongoDB creates the database **only when the first document is inserted**

This behavior is called **lazy database creation** and is normal in MongoDB.

---

### **4. Verifying Databases (Optional)**

You can list databases using:

```javascript
show dbs
```

Note:

* MongoDB displays **only databases that contain data**
* An empty database will not appear in this list

This command is useful for verification but is **not required** before inserting data.

---

## **2. MongoDB Create Methods**

MongoDB provides two primary methods for inserting data:

| Method         | Purpose                   |
| -------------- | ------------------------- |
| `insertOne()`  | Insert a single document  |
| `insertMany()` | Insert multiple documents |

We will start with `insertOne()` because:

* it is safer
* it is easier to debug
* it teaches correct structure

---

## **3. Using `insertOne()`**

### **Syntax**

```javascript
db.collectionName.insertOne({ document })
```

This command:

* inserts **one document**
* returns an acknowledgment object
* automatically generates an `_id` if not provided

---

### **Example: Inserting a Student Document**

```javascript
db.students.insertOne({
  name: "Arjun",
  rollNumber: "12345",
  department: "CSE",
  year: 3,
  coursesEnrolled: ["Data Structures", "Algorithms", "DBMS"],
  age: 22,
  registrationDate: new Date()
});
```

---

### **What Happens Here**

* MongoDB creates a new document
* The document is stored inside the `students` collection
* MongoDB automatically adds an `_id` field
* The document is immediately available for reading

---

### **Insert Result (Important)**

MongoDB returns an object similar to:

```javascript
{
  acknowledged: true,
  insertedId: ObjectId("...")
}
```

Meaning:

* The operation succeeded
* MongoDB assigned a unique `_id`

---

## **4. The `_id` Field (Very Important)**

Every MongoDB document **must have an `_id` field**.

If you don’t provide one:

* MongoDB creates it automatically
* The value is an `ObjectId`

Example:

```json
"_id": ObjectId("64f9c2e4a3b1...")
```

Rules:

* `_id` must be unique within a collection
* Duplicate `_id` values will cause insertion failure

You should **not manually create `_id` values** unless you know exactly why.

---

## **5. Using `new Date()` Correctly**

Dates should **never** be stored as strings.

Wrong:

```json
"registrationDate": "2024-01-10"
```

Correct:

```javascript
"registrationDate": new Date()
```

Why this matters:

* MongoDB can sort dates correctly
* MongoDB can compare dates
* Aggregation becomes accurate

---

## **6. Using `insertMany()`**

### **Syntax**

```javascript
db.collectionName.insertMany([ document1, document2 ])
```

---

### **Example: Inserting Multiple Documents**

```javascript
db.students.insertMany([
  {
    name: "Mahir",
    rollNumber: "12346",
    department: "CSE",
    year: 2,
    coursesEnrolled: ["Mathematics", "DBMS", "OS"],
    age: 21,
    registrationDate: new Date()
  },
  {
    name: "Yashvi",
    rollNumber: "12347",
    department: "CSE",
    year: 2,
    coursesEnrolled: ["Networks", "Algorithms"],
    age: 20,
    registrationDate: new Date()
  }
]);
```

---

### **Important Things to Know About `insertMany()`**

* MongoDB inserts documents **in order by default**
* If one document fails, the operation may stop
* Useful for:

  * bulk inserts
  * data seeding
  * test data creation

Beginners should:

* prefer `insertOne()`
* use `insertMany()` carefully

---

## **7. Common Beginner Mistakes (Read Carefully)**

### ❌ Inconsistent field names

```json
{
  "rollNumber": "123",
  "roll_number": "124"
}
```

This creates **bad schema consistency**.

---

### ❌ Storing numbers as strings

```json
"year": "3"
```

Correct:

```json
"year": 3
```

---

### ❌ Forgetting arrays

```json
"coursesEnrolled": "DBMS"
```

Correct:

```json
"coursesEnrolled": ["DBMS"]
```

---

## **8. When Create Operations Fail**

Insertion can fail due to:

* duplicate `_id`
* invalid data structure
* incorrect data types (in strict schemas)
* validation rules (later topics)

MongoDB will **not partially insert a document**.
It either succeeds or fails.

---

## **Key Takeaways**

After this article, you should clearly understand:

* What it means to create data in MongoDB
* How `insertOne()` works
* How `insertMany()` works
* Why `_id` exists
* Why correct data types matter
* How to avoid common insertion mistakes

---

# 23.1: Defining & Using Structures in C

---

## 1) What is a Structure?

* A **structure** in C is a **user-defined data type**.
* It lets you **group related variables of different types** under one name.
* Example: a student has a **name (string)**, **roll number (int)**, and **marks (float)** → you can bundle them together using a structure.

---

## 2) Defining a Structure

```c
#include <stdio.h>

// structure definition
struct Student {
    int roll;          // integer member
    char name[50];     // character array (string)
    float marks;       // float member
};
```

* `struct Student` is the **type name**.
* `roll`, `name`, `marks` are **members** (fields).

---

## 3) Declaring and Initializing Structure Variables

```c
#include <stdio.h>

struct Student {
    int roll;
    char name[50];
    float marks;
};

int main() {
    struct Student s1 = {1, "Neel", 87.5};   // initialization
    struct Student s2;                       // declaration only

    // Assign values to s2
    s2.roll = 2;
    strcpy(s2.name, "Arjun");  // use strcpy for strings
    s2.marks = 92.0;

    printf("S1: Roll=%d Name=%s Marks=%.1f\n", s1.roll, s1.name, s1.marks);
    printf("S2: Roll=%d Name=%s Marks=%.1f\n", s2.roll, s2.name, s2.marks);

    return 0;
}
```

**Output**

```
S1: Roll=1 Name=Neel Marks=87.5
S2: Roll=2 Name=Arjun Marks=92.0
```

---

## 4) Accessing Members

Use the **dot (`.`) operator** for direct variables:

```c
struct Student s1;
s1.roll = 10;
```

If you use a **pointer to structure**, use the **arrow (`->`) operator**:

```c
struct Student *p = &s1;
p->marks = 88.5;
```

---

## 5) Structure Example: Simple Employee Record

```c
#include <stdio.h>
#include <string.h>

struct Employee {
    int id;
    char name[30];
    float salary;
};

int main() {
    struct Employee e;

    e.id = 101;
    strcpy(e.name, "Priyesha");
    e.salary = 55000.0;

    printf("ID=%d, Name=%s, Salary=%.2f\n", e.id, e.name, e.salary);
    return 0;
}
```

**Output**

```
ID=101, Name=Priyesha, Salary=55000.00
```

---

## 6) Why use Structures?

* Group related data into **one logical unit**.
* Easier to manage **complex data** (students, employees, bank accounts).
* Base for advanced features → **arrays of structures, nested structures, linked lists, etc.**

---

# 23.2: Arrays of Structures

---

## 1) What are Arrays of Structures?

* Just like arrays hold **multiple ints or floats**,
* An **array of structures** holds **multiple records** of the same structure.

---

## 2) Example: Store details of 3 students

```c
#include <stdio.h>
#include <string.h>

struct Student {
    int roll;
    char name[30];
    float marks;
};

int main() {
    struct Student students[3];

    // Initialize values
    students[0].roll = 1;
    strcpy(students[0].name, "Neel");
    students[0].marks = 85.5;

    students[1].roll = 2;
    strcpy(students[1].name, "Yashvi");
    students[1].marks = 90.0;

    students[2].roll = 3;
    strcpy(students[2].name, "Krishna");
    students[2].marks = 78.0;

    // Print all records
    for (int i = 0; i < 3; i++) {
        printf("Roll=%d Name=%s Marks=%.1f\n",
               students[i].roll, students[i].name, students[i].marks);
    }

    return 0;
}
```

**Output**

```
Roll=1 Name=Neel Marks=85.5
Roll=2 Name=Yashvi Marks=90.0
Roll=3 Name=Krishna Marks=78.0
```

---

## 3) Iterative Input/Output

You can also **take input using loops**:

```c
for (int i = 0; i < 3; i++) {
    printf("Enter roll, name, marks: ");
    scanf("%d %s %f", &students[i].roll, students[i].name, &students[i].marks);
}
```

---

# 23.3: Nested Structures

---

## 1) Why Nested?

Sometimes one structure logically **contains another**.
Example: A student has an **address** (street, city, pin). Instead of keeping all in one structure, we make a **nested structure**.

---

## 2) Example: Student with Address

```c
#include <stdio.h>
#include <string.h>

struct Address {
    char city[30];
    int pin;
};

struct Student {
    int roll;
    char name[30];
    struct Address addr;   // nested structure
};

int main() {
    struct Student s;

    s.roll = 1;
    strcpy(s.name, "Mahir");
    strcpy(s.addr.city, "Ahmedabad");
    s.addr.pin = 380015;

    printf("Roll=%d Name=%s City=%s Pin=%d\n",
           s.roll, s.name, s.addr.city, s.addr.pin);

    return 0;
}
```

**Output**

```
Roll=1 Name=Mahir City=Ahmedabad Pin=380015
```

---

# 23.4: Example – Student Record System

Let’s combine all ideas into a **mini system**.

---

## Problem

* Store details of **multiple students**.
* Each student: roll, name, marks, city.
* Display all students and compute average marks.

---

## Solution

```c
#include <stdio.h>
#include <string.h>

struct Address {
    char city[30];
    int pin;
};

struct Student {
    int roll;
    char name[30];
    float marks;
    struct Address addr;
};

int main() {
    struct Student stu[3];
    float total = 0;

    // Input
    for (int i = 0; i < 3; i++) {
        printf("Enter Roll Name Marks City Pin: ");
        scanf("%d %s %f %s %d",
              &stu[i].roll, stu[i].name, &stu[i].marks,
              stu[i].addr.city, &stu[i].addr.pin);
        total += stu[i].marks;
    }

    // Output
    printf("\n--- Student Records ---\n");
    for (int i = 0; i < 3; i++) {
        printf("Roll=%d Name=%s Marks=%.1f City=%s Pin=%d\n",
               stu[i].roll, stu[i].name, stu[i].marks,
               stu[i].addr.city, stu[i].addr.pin);
    }

    printf("\nClass Average = %.2f\n", total / 3);
    return 0;
}
```

**Sample Input**

```
1 Neel 85.5 Rajkot 360001
2 Arjun 90.0 Ahmedabad 380015
3 Yashvi 78.0 Surat 395003
```

**Output**

```
--- Student Records ---
Roll=1 Name=Neel Marks=85.5 City=Rajkot Pin=360001
Roll=2 Name=Arjun Marks=90.0 City=Ahmedabad Pin=380015
Roll=3 Name=Yashvi Marks=78.0 City=Surat Pin=395003

Class Average = 84.50
```

---

## Key Takeaways

* **Structure** groups related data of different types.
* **Array of structures** → multiple records.
* **Nested structures** → organize complex data (address, date, etc.).
* Forms the base of real systems like **student management, banking, hospital records**.

---

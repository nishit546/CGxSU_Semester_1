# 05.6: Type Casting in C

In daily life, we often **convert** things:

* 100 rupees → 1 dollar (currency conversion)
* 5 feet 10 inches → 178 cm (unit conversion)
* 12th board marks → percentage (data conversion)

In C, this “conversion” is called **type casting** — changing data from one type to another.

---

## 1. Types of Casting in C

1. **Implicit Type Casting (Type Promotion / Type Conversion)**

   * Done **automatically** by the compiler.
   * Happens when a smaller type is converted to a larger type (safe).

2. **Explicit Type Casting (Type Casting Operator)**

   * Done **manually** by the programmer using `(type)` syntax.
   * Useful when you want to control the conversion.

---

## 2. Implicit Type Casting (Type Promotion)

When mixing types, C automatically promotes to the **largest type involved**.

```c
#include <stdio.h>
int main() {
    int a = 10;
    float b = 3.5;

    float result = a + b;  // int gets promoted to float
    printf("Result = %.2f\n", result);

    return 0;
}
```

**Output:**

```
Result = 13.50
```

💡 Explanation:

* `a` (int) → automatically converted to `float`.
* Safer because no data loss.

👉 Example in apps:
When Instagram calculates `likes_per_second = total_likes / seconds` →
If `total_likes` is int and `seconds` is float, the `int` becomes float automatically.

---

### Promotion Rules (Simplified)

1. `char` → `int` → `float` → `double`
2. Smaller → larger type (safe conversion).
3. Example: `int + double = double`.

---

## 3. Explicit Type Casting (Manual)

When you want to **force conversion**, use `(type)`.

```c
#include <stdio.h>
int main() {
    int total = 5;
    int count = 2;

    float avg1 = total / count;           // int division
    float avg2 = (float) total / count;   // explicit cast

    printf("avg1 = %f\n", avg1);
    printf("avg2 = %f\n", avg2);

    return 0;
}
```

**Output:**

```
avg1 = 2.000000
avg2 = 2.500000
```

💡 Explanation:

* Without casting: `total / count = 5/2 = 2` (int division).
* With casting: `(float) 5 / 2 = 2.5`.

👉 This is why explicit casting is so important in averages, percentages, and divisions.

---

## 4. Casting with `char`

Characters are stored as ASCII numbers.
Casting reveals the underlying values.

```c
#include <stdio.h>
int main() {
    char grade = 'A';    // ASCII 65
    int num = (int) grade;

    printf("Grade = %c\n", grade);
    printf("ASCII value = %d\n", num);

    return 0;
}
```

**Output:**

```
Grade = A
ASCII value = 65
```

---

## 5. Casting with `double` → `int`

When converting floating-point to integer, **decimal part is truncated** (not rounded).

```c
#include <stdio.h>
int main() {
    double pi = 3.14159;
    int truncated = (int) pi;

    printf("pi = %lf\n", pi);
    printf("Truncated = %d\n", truncated);

    return 0;
}
```

**Output:**

```
pi = 3.141590
Truncated = 3
```

👉 Notice: no rounding, just chopping off after decimal.

---

## 6. Danger of Casting (Data Loss)

```c
#include <stdio.h>
int main() {
    long long big = 1234567890123;
    int small = (int) big;

    printf("Original = %lld\n", big);
    printf("After casting = %d\n", small);

    return 0;
}
```

**Output (may vary):**

```
Original = 1234567890123
After casting = -1097262469
```

💡 Explanation:

* Casting from a large type (`long long`) to smaller (`int`) causes **overflow** and data loss.

---

## 7. Real-World Examples

1. **Percentage calculation** in college results.

   ```c
   int marks = 450, total = 500;
   float percentage = (float) marks / total * 100;
   printf("Percentage = %.2f\n", percentage);
   ```

2. **Games (health bar system)** → converting float health to int for display.

3. **E-commerce apps** → converting float discount values to int for rounded display.

---

## 8. Quick Recap

* **Implicit Casting** = compiler does it automatically.
* **Explicit Casting** = programmer does it manually with `(type)`.
* Useful for **averages, divisions, percentages, ASCII conversions**.
* Be careful of **data loss** when casting from larger → smaller types.

---

# 16.3: String Input/Output in C

Strings are only useful if we can **take input from the user** and **print them back**. C provides several functions (`scanf`, `gets`, `fgets`, `puts`) to handle this, but each comes with its own quirks. Let‚Äôs explore them step by step.

---

## 1) Using `scanf("%s", str)`

The most common way is with `scanf("%s", str)`.

```c
#include <stdio.h>
int main() {
    char name[20];  // allocate space for string

    printf("Enter your name: ");
    scanf("%s", name);   // reads input until SPACE or NEWLINE

    printf("Hello %s!\n", name);
    return 0;
}
```

**Input**

```
Jenil
```

**Output**

```
Hello Jenil!
```

### Problem with spaces:

If you type:

```
Jenil Patel
```

**Output**

```
Hello Jenil!
```

üëâ Only `"Jenil"` is captured. The part after the space (`Patel`) is ignored.
This is because `%s` in `scanf` stops at **whitespace (space, tab, newline)**.

---

## 2) Why `gets()` is unsafe (do not use ‚ùå)

Earlier, C programmers used `gets()` to read strings with spaces:

```c
char fullName[20];
gets(fullName);  // ‚ùå dangerous
```

But `gets()` does **not check buffer size**. If the user types a long input, it will **overflow memory**, corrupt other variables, or even crash the program.

That‚Äôs why `gets()` was **removed from the C11 standard**.

---

## 3) The safe way: `fgets()`

Always prefer `fgets()` for safe string input.

```c
#include <stdio.h>
int main() {
    char fullName[30];

    printf("Enter full name: ");
    fgets(fullName, sizeof(fullName), stdin);

    printf("Hello %s", fullName);
    return 0;
}
```

**Input**

```
Jenil Patel
```

**Output**

```
Hello Jenil Patel
```

### Why `fgets()` is safe:

* Reads at most `size-1` characters ‚Üí avoids overflow.
* Stops at newline or end-of-file.
* **Keeps the `\n` (newline)** at the end (unless buffer is full).

Example:

If user typed `"Jenil\n"`, then in memory:

```
'J' 'e' 'n' 'i' 'l' '\n' '\0'
```

You may need to **remove the trailing `\n`**:

```c
size_t len = strlen(fullName);
if (len > 0 && fullName[len-1] == '\n')
    fullName[len-1] = '\0';  // replace newline with terminator
```

---

## 4) Quick output with `puts()`

For quick printing of strings, you can use `puts()`:

```c
#include <stdio.h>
int main() {
    char college[] = "CodingGita University";
    puts(college);   // prints string and adds newline automatically
    return 0;
}
```

**Output**

```
CodingGita University
```

### Difference from `printf("%s", str)`:

* `puts(str)` ‚Üí automatically adds a newline at the end.
* `printf("%s", str)` ‚Üí does not add newline unless you write `\n`.

---

## 5) Interactive Example (Compare all)

```c
#include <stdio.h>
#include <string.h>
int main() {
    char a[20], b[30];

    printf("Enter one word (scanf): ");
    scanf("%s", a);     // stops at space
    getchar();          // consume leftover '\n'

    printf("Enter full line (fgets): ");
    fgets(b, sizeof(b), stdin);

    // remove newline from fgets
    size_t len = strlen(b);
    if (len > 0 && b[len-1] == '\n') b[len-1] = '\0';

    printf("scanf captured: %s\n", a);
    printf("fgets captured: %s\n", b);

    puts("Using puts():");
    puts(b);

    return 0;
}
```

**Sample Run**

```
Enter one word (scanf): Jenil Patel
Enter full line (fgets): Jenil Patel
scanf captured: Jenil
fgets captured: Jenil Patel
Using puts():
Jenil Patel
```

---

## 6) Key Takeaways

* `scanf("%s", str)` ‚Üí easy, but stops at spaces.
* `gets()` ‚Üí **unsafe, banned** (never use).
* `fgets(str, size, stdin)` ‚Üí safe, handles spaces, prevents overflow (remove `\n` manually).
* `puts(str)` ‚Üí prints string with an automatic newline.

---

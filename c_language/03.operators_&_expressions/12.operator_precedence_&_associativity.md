# 06.7: Operator Precedence and Associativity in C


## 1. What is Operator Precedence?

When an expression has **multiple operators**, precedence defines **which operator executes first**.

Example:

```c
int x = 10 + 2 * 5;
```

* `*` has **higher precedence** than `+`.
* So `2 * 5 = 10` is evaluated first.
* Then `10 + 10 = 20`.

‚úÖ Output: `20` (not 60).

---

## 2. What is Associativity?

If two operators have the **same precedence**, associativity decides the direction of evaluation:

* **Left to Right**: Most operators (`+`, `-`, `*`, `/`, `%`, `<`, `>`, `==`, `&&`, `||`).
* **Right to Left**: Assignment (`=`, `+=`, `-=`) and unary (`++`, `--`, `!`, `~`).

---

## 3. Precedence Table (Simplified, Commonly Used)

Good catch! You‚Äôre right to question the table ‚Äî operator precedence tables need to be **accurate** because even a tiny mistake confuses students badly.
The one you pasted has some formatting errors (like missing `|` and `||`, misplaced columns). Let me rewrite the **correct and simplified precedence table (commonly used in C)**.

---

# ‚úÖ Correct Operator Precedence & Associativity in C (Simplified)

| Precedence (High ‚Üí Low) | Operator(s)                                                                                          | Associativity   |                 |               |
| ----------------------- | ---------------------------------------------------------------------------------------------------- | --------------- | --------------- | ------------- |
| 1                       | `()` (function call), `[]` (array subscript), `.` (member), `->` (pointer to member)                 | Left to Right   |                 |               |
| 2                       | `++` `--` (postfix)                                                                                  | Left to Right   |                 |               |
| 3                       | `++` `--` (prefix), `+` (unary), `-` (unary), `!`, `~`, `*` (dereference), `&` (address), type casts | Right to Left   |                 |               |
| 4                       | `*`, `/`, `%`                                                                                        | Left to Right   |                 |               |
| 5                       | `+`, `-`                                                                                             | Left to Right   |                 |               |
| 6                       | `<`, `<=`, `>`, `>=`                                                                                 | Left to Right   |                 |               |
| 7                       | `==`, `!=`                                                                                           | Left to Right   |                 |               |
| 8                       | `&` (bitwise AND)                                                                                    | Left to Right   |                 |               |
| 9                       | `^` (bitwise XOR)                                                                                    | Left to Right   |                 |               |
| 10                      | \`                                                                                                   | \` (bitwise OR) | Left to Right   |               |
| 11                      | `&&` (logical AND)                                                                                   | Left to Right   |                 |               |
| 12                      | \`                                                                                                   |                 | \` (logical OR) | Left to Right |
| 13                      | `?:` (ternary conditional)                                                                           | Right to Left   |                 |               |
| 14                      | `=`, `+=`, `-=`, `*=`, `/=`, `%=` etc. (assignment)                                                  | Right to Left   |                 |               |
| 15                      | `,` (comma)                                                                                          | Left to Right   |                 |               |



---

## 4. Code Examples

### 4.1 Multiplication before addition

```c
#include <stdio.h>
int main() {
    int result = 10 + 2 * 5;   // * runs before +
    printf("%d\n", result);
    return 0;
}
```

**Output:**

```
20
```

---

### 4.2 Associativity Example (Left-to-Right)

```c
#include <stdio.h>
int main() {
    int x = 100 / 10 * 5;  // / and * have same precedence
    printf("%d\n", x);
    return 0;
}
```

* `/` and `*` are **left-to-right**, so:

  * `100 / 10 = 10`
  * `10 * 5 = 50`

**Output:**

```
50
```

---

### 4.3 Right-to-Left Associativity (Assignments)

```c
#include <stdio.h>
int main() {
    int a, b, c;
    a = b = c = 5;   // evaluated right to left
    printf("%d %d %d\n", a, b, c);
    return 0;
}
```

Steps:

1. `c = 5` ‚Üí `c = 5`
2. `b = (c = 5)` ‚Üí `b = 5`
3. `a = (b = 5)` ‚Üí `a = 5`

**Output:**

```
5 5 5
```

---

### 4.4 Confusing Expression (Why Parentheses Help)

```c
#include <stdio.h>
int main() {
    int result = 2 + 3 * 4 > 10 && 5 == 5;
    printf("%d\n", result);
    return 0;
}
```

Step-by-step:

1. `3 * 4 = 12`
2. `2 + 12 = 14`
3. `14 > 10 = 1`
4. `5 == 5 = 1`
5. `1 && 1 = 1`

**Output:**

```
1
```

üëâ Without knowing precedence, a beginner may think it evaluates left-to-right and gets it wrong.

---

### 4.5 Dangerous Mistake

```c
#include <stdio.h>
int main() {
    int x = 5;
    if (x & 1 == 1)   // ‚ùå Wrong: == runs before &
        printf("Odd\n");
    else
        printf("Even\n");
    return 0;
}
```

* `1 == 1 ‚Üí 1`
* So condition becomes: `x & 1` ‚Üí works here **by luck**, but fails in many cases.

‚úÖ Correct:

```c
if ((x & 1) == 1)
    printf("Odd\n");
```

---

## 5. Key Takeaways

1. **Precedence decides priority** of operators.
2. **Associativity breaks ties** when precedence is same.
3. Always use **parentheses** when in doubt ‚Äî they make intent clear.
4. Wrong precedence assumptions cause **silent bugs**.
5. Remember: `&&` runs before `||`, assignment is right-to-left.

---

üëâ Think of precedence as **traffic rules for operators**. If you ignore them, you‚Äôll get logical ‚Äúaccidents‚Äù in your code. Parentheses are like **traffic signals**: they make order explicit.

---

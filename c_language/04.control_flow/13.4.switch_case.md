# 13.4: `switch-case` Statement in C

In the last article, we saw **`if-else-if` ladders** and **nested `if`**.
They are powerful, but when you have **many discrete choices**, the code can become long and messy.

That‚Äôs where **`switch-case`** comes in. It makes programs **cleaner, more readable, and faster** in such scenarios.

---

## 1) What is a `switch-case`?

* A `switch` evaluates an **expression** (usually `int` or `char`).
* It jumps to the **matching `case` label**.
* If no match is found, it runs the **`default` case** (optional).

üëâ Think of it like a **menu card**:

* If you order ‚ÄúPizza‚Äù, the chef prepares pizza.
* If you order ‚ÄúBurger‚Äù, the chef prepares burger.
* If you order something not on the menu, you get ‚ÄúSorry, not available‚Äù.

---

## 2) Syntax of `switch`

```c
switch (expression) {
    case value1:
        // statements
        break;
    case value2:
        // statements
        break;
    ...
    default:
        // statements if none matched
}
```

* **`break`** ‚Üí exits the switch after running that case.
* **Without `break`**, execution **falls through** into the next case.

---

## 3) Example 1 ‚Äî Day of Week

```c
#include <stdio.h>
int main() {
    int day = 3;

    switch(day) {
        case 1: printf("Monday\n"); break;
        case 2: printf("Tuesday\n"); break;
        case 3: printf("Wednesday\n"); break;
        case 4: printf("Thursday\n"); break;
        case 5: printf("Friday\n"); break;
        case 6: printf("Saturday\n"); break;
        case 7: printf("Sunday\n"); break;
        default: printf("Invalid day\n");
    }
    return 0;
}
```

**Output**

```
Wednesday
```

---

## 4) Example 2 ‚Äî Simple Calculator

```c
#include <stdio.h>
int main() {
    int a = 10, b = 5;
    char op = '+';

    switch(op) {
        case '+': printf("%d + %d = %d\n", a, b, a+b); break;
        case '-': printf("%d - %d = %d\n", a, b, a-b); break;
        case '*': printf("%d * %d = %d\n", a, b, a*b); break;
        case '/': 
            if (b != 0)
                printf("%d / %d = %d\n", a, b, a/b);
            else
                printf("Division by zero error!\n");
            break;
        default: printf("Invalid operator\n");
    }
    return 0;
}
```

**Output**

```
10 + 5 = 15
```

---

## 5) Example 3 ‚Äî Fall-through behavior

```c
#include <stdio.h>
int main() {
    int num = 2;

    switch(num) {
        case 1: printf("One\n");
        case 2: printf("Two\n");
        case 3: printf("Three\n");
        default: printf("Other\n");
    }
    return 0;
}
```

**Output**

```
Two
Three
Other
```

üëâ Why? Because there was **no `break`** after `case 2`.

---

## 6) Example 4 ‚Äî ATM Menu

```c
#include <stdio.h>
int main() {
    int choice;
    printf("1. Deposit\n2. Withdraw\n3. Balance\n4. Exit\n");
    scanf("%d", &choice);

    switch(choice) {
        case 1: printf("Deposit selected\n"); break;
        case 2: printf("Withdraw selected\n"); break;
        case 3: printf("Balance selected\n"); break;
        case 4: printf("Exit selected\n"); break;
        default: printf("Invalid choice\n");
    }
    return 0;
}
```

**Input/Output**

```
Enter choice: 2
Withdraw selected
```

---

## 7) When to Use `switch`

* **Use `if-else`** when:

  * You check **ranges or complex conditions** (`marks >= 90 && attendance > 75`).
* **Use `switch`** when:

  * You check **exact values** (`day = 1, 2, 3...`).
  * You have a **menu of options**.
  * Cases are based on **`int` or `char` constants**.

---

## 8) Limitations of `switch`

* Works only with:

  * **int**, **char**, and **enum** types (not `float`, `double`, or `string`).
* No ranges: can‚Äôt write `case x > 10`.
* Must use constants, not variables.

---

## 9) Common Mistakes

1. **Forgetting `break`** ‚Üí causes fall-through.
2. **Using float/double** in `switch` (not allowed).
3. **Duplicate case labels** ‚Üí compile error.
4. **Missing default** ‚Üí no output when nothing matches.

---

## 10) Real-Life Analogy

* `switch` = **restaurant menu**: you can only pick listed items.
* `if-else` = **custom order**: chef checks your conditions one by one.

---

## 11) Mini Practice Problems

## 1) Number (1‚Äì7) ‚Üí Day of Week

### Code

```c
#include <stdio.h>

int main() {
    int day;
    printf("Enter 1-7: ");
    scanf("%d", &day);

    switch (day) {
        case 1: printf("Monday\n"); break;
        case 2: printf("Tuesday\n"); break;
        case 3: printf("Wednesday\n"); break;
        case 4: printf("Thursday\n"); break;
        case 5: printf("Friday\n"); break;
        case 6: printf("Saturday\n"); break;
        case 7: printf("Sunday\n"); break;
        default: printf("Invalid day\n");
    }
    return 0;
}
```

### Why it works

* Each `case` maps a **fixed integer** to a specific day.
* `break` prevents fall-through.
* `default` handles invalid inputs.

### Sample I/O

```
Enter 1-7: 3
Wednesday
```

---

## 2) Simple Calculator (`+ - * / %`)

### Code

```c
#include <stdio.h>

int main() {
    int a, b;
    char op;

    printf("Enter a b and op (+ - * / %c): ", '%');
    scanf("%d %d %c", &a, &b, &op);

    switch (op) {
        case '+': printf("%d + %d = %d\n", a, b, a + b); break;
        case '-': printf("%d - %d = %d\n", a, b, a - b); break;
        case '*': printf("%d * %d = %d\n", a, b, a * b); break;
        case '/':
            if (b != 0) printf("%d / %d = %d\n", a, b, a / b);
            else printf("Error: Division by zero!\n");
            break;
        case '%':
            if (b != 0) printf("%d %% %d = %d\n", a, b, a % b);
            else printf("Error: Modulo by zero!\n");
            break;
        default: printf("Invalid operator\n");
    }
    return 0;
}
```

### Why it works

* `switch` cleanly branches by operator.
* Division & modulo guard against **zero** to avoid runtime errors.

### Sample I/O

```
Enter a b and op (+ - * / %): 10 4 /
10 / 4 = 2
```

---

## 3) ATM Menu (Deposit, Withdraw, Balance, Exit)

### Code

```c
#include <stdio.h>

int main() {
    int choice;
    int balance = 1000;   // initial balance
    int amount;

    printf("1. Deposit\n2. Withdraw\n3. Balance\n4. Exit\n");
    printf("Enter choice: ");
    scanf("%d", &choice);

    switch (choice) {
        case 1:
            printf("Enter deposit amount: ");
            scanf("%d", &amount);
            if (amount > 0) {
                balance += amount;
                printf("Deposited. New balance = %d\n", balance);
            } else {
                printf("Invalid deposit amount\n");
            }
            break;

        case 2:
            printf("Enter withdraw amount: ");
            scanf("%d", &amount);
            if (amount <= 0) {
                printf("Invalid withdraw amount\n");
            } else if (amount > balance) {
                printf("Insufficient funds\n");
            } else {
                balance -= amount;
                printf("Withdrawn. New balance = %d\n", balance);
            }
            break;

        case 3:
            printf("Current balance = %d\n", balance);
            break;

        case 4:
            printf("Exit\n");
            break;

        default:
            printf("Invalid choice\n");
    }
    return 0;
}
```

### Why it works

* `switch` is ideal for **menu-driven** actions.
* Additional `if` checks enforce **valid amounts** and **sufficient funds**.

### Sample I/O

```
1. Deposit
2. Withdraw
3. Balance
4. Exit
Enter choice: 2
Enter withdraw amount: 1200
Insufficient funds
```

---

## 4) Grade (A/B/C/F) ‚Üí Remarks

### Code

```c
#include <stdio.h>

int main() {
    char grade;
    printf("Enter grade (A/B/C/F): ");
    scanf(" %c", &grade);  // space before %c to consume any leftover newline

    switch (grade) {
        case 'A':
        case 'a':
            printf("Excellent\n"); break;
        case 'B':
        case 'b':
            printf("Good\n"); break;
        case 'C':
        case 'c':
            printf("Average\n"); break;
        case 'F':
        case 'f':
            printf("Fail\n"); break;
        default:
            printf("Invalid grade\n");
    }
    return 0;
}
```

### Why it works

* Multiple cases can share the same block ‚Üí handles **upper/lowercase** neatly.
* `default` guards invalid letters.

### Sample I/O

```
Enter grade (A/B/C/F): b
Good
```

---

## 5) Mobile Recharge Menu (Data, Talktime, SMS, Exit)

### Code

```c
#include <stdio.h>

int main() {
    int choice;
    int mainBalance = 50;      // talktime
    int dataMB = 0;            // data in MB
    int smsCount = 0;

    printf("1. Data Pack (1GB)\n2. Talktime (‚Çπ50)\n3. SMS Pack (100 SMS)\n4. Exit\n");
    printf("Enter choice: ");
    scanf("%d", &choice);

    switch (choice) {
        case 1:
            dataMB += 1024;
            printf("Data added: 1GB. Total data = %d MB\n", dataMB);
            break;

        case 2:
            mainBalance += 50;
            printf("Talktime added: ‚Çπ50. Balance = ‚Çπ%d\n", mainBalance);
            break;

        case 3:
            smsCount += 100;
            printf("SMS Pack added: 100. Total SMS = %d\n", smsCount);
            break;

        case 4:
            printf("Exit\n");
            break;

        default:
            printf("Invalid choice\n");
    }
    return 0;
}
```

### Why it works

* Each case **updates a different resource** (data / talktime / SMS).
* Simple state variables make it easy to extend to multiple operations in a loop later.

### Sample I/O

```
1. Data Pack (1GB)
2. Talktime (‚Çπ50)
3. SMS Pack (100 SMS)
4. Exit
Enter choice: 1
Data added: 1GB. Total data = 1024 MB
```

---

## 12) Key Takeaways

* **`switch` makes code cleaner** for many fixed choices.
* Always add **`break`** to prevent fall-through (unless intentional).
* Always add a **`default` case** to handle unexpected inputs.
* Remember: it works with `int`, `char`, `enum` ‚Äî not with `float` or `string`.

---

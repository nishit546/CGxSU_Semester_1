# **Reading Documents in MongoDB – Core Query Operators**

In earlier articles, you learned how to read documents using **exact matches** with `find()` and `findOne()`.

That works only for very basic use cases.

In real backend systems, queries almost always involve:

* ranges (greater than, less than)
* multiple conditions
* inclusion or exclusion logic
* flexible filtering based on user input

To support this, MongoDB provides **query operators**.

This article focuses only on **core filtering operators** that every MongoDB developer must know before moving further.

---

## **Prerequisite: Insert Practice Data (Mandatory)**

Before running **any query in this article**, insert the following documents **exactly once**.

### **Step 1: Select Database**

```javascript
use codinggita
```

---

### **Step 2: Insert Job Documents**

```javascript
db.jobs.insertMany([
  {
    company: "Google",
    role: "Software Engineer",
    experience: 3,
    location: "Bangalore",
    salaryLPA: 28
  },
  {
    company: "Amazon",
    role: "Backend Developer",
    experience: 2,
    location: "Hyderabad",
    salaryLPA: 22
  },
  {
    company: "Flipkart",
    role: "Full Stack Developer",
    experience: 1,
    location: "Remote",
    salaryLPA: 18
  },
  {
    company: "Microsoft",
    role: "Software Engineer",
    experience: 4,
    location: "Bangalore",
    salaryLPA: 30
  }
]);
```

These documents will be used in **every example below**.

---

## **1. What Are Query Operators in MongoDB?**

Query operators allow you to write **conditions instead of exact values**.

Instead of saying:

```javascript
experience: 2
```

You can say:

```javascript
experience: { $gt: 2 }
```

Operators:

* always start with `$`
* are written inside an object
* are evaluated by MongoDB at query time

---

## **2. Comparison Operators (Most Used Operators)**

Comparison operators are used to compare **numeric or date values** in MongoDB queries.
They allow you to filter documents **based on conditions**, not just exact values.

---

### **Comparison Operators – Quick Reference**

| MongoDB Operator | Logical Meaning       | Familiar Symbol |
| ---------------- | --------------------- | --------------- |
| `$eq`            | Equal to              | `==`            |
| `$ne`            | Not equal to          | `!=`            |
| `$gt`            | Greater than          | `>`             |
| `$gte`           | Greater than or equal | `>=`            |
| `$lt`            | Less than             | `<`             |
| `$lte`           | Less than or equal    | `<=`            |

Think of these operators exactly like **conditions in programming languages**, but written in MongoDB’s query syntax.

---

### **Equality: `$eq` vs Shorthand**

MongoDB provides two ways to check equality.

```javascript
db.jobs.find({ experience: 2 })
```

This is **shorthand syntax** and is the most commonly used.

The same query written explicitly:

```javascript
db.jobs.find({ experience: { $eq: 2 } })
```

**Important to understand:**

* Both queries behave exactly the same
* `$eq` becomes useful when combined with other operators
* Shorthand is just a convenience

---

### **Greater Than / Less Than Operators**

These operators are used when you want to filter **ranges**, not exact values.

---

#### **`$gt` – Greater Than (`>`)**

Fetch jobs requiring **more than 2 years** of experience.

```javascript
db.jobs.find({
  experience: { $gt: 2 }
})
```

This excludes jobs requiring exactly 2 years.

---

#### **`$lte` – Less Than or Equal (`<=`)**

Fetch jobs requiring **2 years or less** experience.

```javascript
db.jobs.find({
  experience: { $lte: 2 }
})
```

This includes both 1 and 2 years.

---

### **Range Queries (Very Important Concept)**

MongoDB allows **multiple comparison operators on the same field**.

```javascript
db.jobs.find({
  experience: { $gte: 2, $lte: 5 }
})
```

This query means:

> Fetch jobs where experience is **between 2 and 5 years (inclusive)**

Range queries are extremely common in:

* job filters
* salary filters
* date-based searches

---

### **Not Equal: `$ne` (`!=`)**

Use `$ne` when you want to **exclude a specific value**.

```javascript
db.jobs.find({
  experience: { $ne: 1 }
})
```

This fetches all jobs **except** those requiring exactly 1 year of experience.

---

## **3. Membership Operators: `$in` and `$nin`**

Membership operators are used when a field should match **any one value from a list**.

---

### **Membership Operators – Quick Reference**

| MongoDB Operator | Meaning                      | Logical Mapping |
| ---------------- | ---------------------------- | --------------- |
| `$in`            | Value exists in list         | `IN (…)`        |
| `$nin`           | Value does not exist in list | `NOT IN (…)`    |

---

### **`$in` – Value Exists in List**

Fetch jobs located in **either Bangalore or Remote**.

```javascript
db.jobs.find({
  location: { $in: ["Bangalore", "Remote"] }
})
```

MongoDB checks if `location` matches **any one** value in the list.

---

### **`$nin` – Value Does Not Exist in List**

Fetch jobs **not posted** by Google or Amazon.

```javascript
db.jobs.find({
  company: { $nin: ["Google", "Amazon"] }
})
```

This is commonly used for **exclusion filters**.

---

## **4. Logical Operators**

Logical operators are used to **combine multiple conditions**.

---

### **Logical Operators – Quick Reference**

| MongoDB Operator | Meaning                   | Logical Mapping |
| ---------------- | ------------------------- | --------------- |
| `$and`           | All conditions must match | `AND`           |
| `$or`            | Any condition can match   | `OR`            |

---

### **`$and` – All Conditions Must Match**

```javascript
db.jobs.find({
  $and: [
    { role: "Software Engineer" },
    { experience: { $gte: 3 } }
  ]
})
```

This fetches jobs where **both conditions are true**.

---

### **Implicit AND (Important Concept)**

MongoDB applies **AND by default** when multiple fields are provided.

```javascript
db.jobs.find({
  role: "Software Engineer",
  experience: { $gte: 3 }
})
```

This query behaves **exactly the same** as the `$and` query above.

**Rule of thumb:**

* Use implicit AND when possible
* Use `$and` only when logic becomes complex

---

### **`$or` – Any Condition Can Match**

```javascript
db.jobs.find({
  $or: [
    { role: "Software Engineer" },
    { role: "Backend Developer" }
  ]
})
```

This fetches jobs where **either condition matches**.

---

## **5. Using `$mod` (Practical Numeric Operator)**

The `$mod` operator is used for **modulus-based filtering**.

### **Syntax**

```javascript
{ field: { $mod: [divisor, remainder] } }
```

---

### **Example: Even Experience Values**

```javascript
db.jobs.find({
  experience: { $mod: [2, 0] }
})
```

This fetches jobs where experience is an **even number**.

---

## **6. Common Beginner Mistakes**

### ❌ Comparing numbers as strings

```javascript
{ experience: { $gt: "2" } }
```

MongoDB does **not** convert types automatically.

---

### ❌ Forgetting `$or` requires an array

Wrong:

```javascript
{ $or: { role: "SDE", role: "Backend" } }
```

Correct:

```javascript
{ $or: [{ role: "SDE" }, { role: "Backend" }] }
```

---

## **Key Takeaways**

After this section, you should be able to:

* map MongoDB operators to familiar logical symbols
* use comparison operators confidently
* write range-based filters
* combine conditions correctly
* think like a backend developer while querying

---


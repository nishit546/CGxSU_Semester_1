# **Master CRUD Assignment – MongoDB (End-to-End)**

## **Dataset Theme**

**Tech Hiring Platform**
(Realistic, backend-friendly, interview-relevant)

---

## **SECTION 0 – Database Setup & Initial Data (Given)**

### **Step 0.1 – Switch to New Database**

```javascript
use codinggita_hiring
```

---

### **Step 0.2 – Initial Dataset (DO NOT MODIFY)**

Run the following **once**.
This is the **base dataset** for the entire assignment.

```javascript
db.jobs.insertMany([
  {
    jobId: "CG-JOB-001",
    role: "Backend Developer",
    company: "Google",
    experience: 2,
    salary: 1200000,
    skills: ["Node.js", "MongoDB", "Express"],
    location: "Bangalore",
    isRemote: false,
    isOpen: true,
    postedDate: new Date("2024-01-10")
  },
  {
    jobId: "CG-JOB-002",
    role: "Frontend Developer",
    company: "Amazon",
    experience: 1,
    salary: 900000,
    skills: ["React", "JavaScript", "CSS"],
    location: "Remote",
    isRemote: true,
    isOpen: true,
    postedDate: new Date("2024-01-12")
  },
  {
    jobId: "CG-JOB-003",
    role: "Full Stack Developer",
    company: "Flipkart",
    experience: 3,
    salary: 1500000,
    skills: ["Node.js", "React", "MongoDB"],
    location: "Bangalore",
    isRemote: false,
    isOpen: true,
    postedDate: new Date("2024-01-15")
  },
  {
    jobId: "CG-JOB-004",
    role: "SDE",
    company: "Microsoft",
    experience: 4,
    salary: 2200000,
    skills: ["Java", "System Design", "DSA"],
    location: "Hyderabad",
    isRemote: false,
    isOpen: false,
    postedDate: new Date("2023-12-20")
  },
  {
    jobId: "CG-JOB-005",
    role: "Backend Developer",
    company: "Swiggy",
    experience: 0,
    salary: 600000,
    skills: ["Node.js", "MongoDB", "Basics"],
    location: "Bangalore",
    isRemote: false,
    isOpen: true,
    postedDate: new Date("2024-02-01")
  },
  {
    jobId: "CG-JOB-006",
    role: "Intern",
    company: "StartupX",
    experience: 0,
    salary: 300000,
    skills: ["JavaScript", "HTML", "CSS"],
    location: "Remote",
    isRemote: true,
    isOpen: true,
    postedDate: new Date("2024-02-05")
  }
]);
```

---

### **Important Notes for Students**

* Do **not** modify the above data
* Do **not** delete documents yet
* All queries below assume this dataset exists

---

## **SECTION 1 – CREATE (Additional Inserts)**

### **Q1. Insert one new job using `insertOne()` with an extra field**

Extra field example: `noticePeriod`, `bondYears`, or `education`.

---

### **Q2. Insert one job with a nested object**

Example:

```json
"recruiter": {
  "name": "HR Team",
  "email": "hr@company.com"
}
```

---

### **Q3. Insert one job where `skills` contains exactly 5 values**

---

### **Q4. Insert one job with `experience = 0`**

---

### **Q5. Insert one job where `salary > 2000000`**

---

### **Q6. Insert one job where `isRemote = true`**

---

### **Q7. Insert one job with a custom `_id`**

Observe what MongoDB does.

---

## **SECTION 2 – BASIC READ QUERIES**

### **Q8. Read all job documents**

---

### **Q9. Read only one job using `findOne()`**

---

### **Q10. Find all jobs where `role` is `"Backend Developer"`**

---

### **Q11. Find jobs where `company` is `"Google"`**

---

### **Q12. Find jobs where `experience` is exactly `2`**

---

### **Q13. Find jobs where `skills` contains `"MongoDB"`**

---

### **Q14. Find jobs where `isOpen = true`**

---

### **Q15. Explain in one line:**

When is `findOne()` better than `find()`?

---

## **SECTION 3 – OPERATORS (Comparison & Logical)**

### **Q16. Find jobs where experience is greater than `2`**

---

### **Q17. Find jobs where experience is less than or equal to `3`**

---

### **Q18. Find jobs where salary is between `800000` and `1500000`**

---

### **Q19. Find jobs where experience is NOT equal to `1`**

---

### **Q20. Find jobs located in `"Bangalore"` OR `"Remote"`**

---

### **Q21. Find jobs NOT from company `"Amazon"`**

---

### **Q22. Find jobs where role is `"Backend Developer"` AND experience ≥ `3`**

---

### **Q23. Write the same query as Q22 using implicit AND**

---

### **Q24. Find jobs where role is `"SDE"` OR `"Full Stack Developer"`**

---

### **Q25. Find jobs where experience is an even number**

(Use `$mod`)

---

## **SECTION 4 – ADVANCED FILTERING (Part 1)**

### **Q26. Find jobs where role starts with `"Back"`**

(Use `$regex`)

---

### **Q27. Perform a case-insensitive search for `"developer"` in role**

---

### **Q28. Use `$not` to find jobs where experience is NOT greater than `3`**

---

### **Q29. Use `$nor` to exclude:**

* role = `"Intern"`
* location = `"Remote"`

---

### **Q30. Use `$expr` to find jobs where:**

```
salary > experience × 500000
```
---

## **SECTION 4 – ADVANCED FILTERING (Part 2)**

### **Q31. Use `$expr` with `$add`**

Find jobs where:

```
salary > (experience + 1) × 500000
```

---

### **Q32. Write one query combining at least 3 operators**

Conditions must include:

* comparison operator
* logical operator
* array or boolean condition

(Example: experience, location, skills)

---

### **Q33. Find jobs where `skills` array has more than 2 elements**

(Hint: use `$expr` with `$size`)

---

### **Q34. Find jobs posted after `2024-01-15`**

(Use date comparison)

---

### **Q35. Find jobs that are either remote OR have salary above `1500000`, but are still open**

---

## **SECTION 5 – PROJECTIONS, SORTING & PAGINATION**

### **Q36. Display only the following fields:**

* `role`
* `company`
* `salary`

Exclude `_id`.

---

### **Q37. Display all fields except `skills`**

---

### **Q38. Sort jobs by salary (highest to lowest)**

---

### **Q39. Sort jobs by experience (lowest to highest)**

---

### **Q40. Sort jobs first by `role`, then by salary (descending)**

---

### **Q41. Pagination: Page 1 with limit 5**

---

### **Q42. Pagination: Page 2 with limit 5**

(Use correct `skip` calculation)

---

### **Q43. Pagination: Page 3 with limit 5**

---

## **SECTION 6 – UPDATE OPERATIONS**

### **Q44. Update one job’s salary using `$set`**

---

### **Q45. Update multiple jobs to set `isOpen = false`**

(Choose a logical condition)

---

### **Q46. Increment experience by 1 for a specific job**

(Use `$inc`)

---

### **Q47. Add a new skill to a job using `$push`**

---

### **Q48. Remove a skill from a job using `$pull`**

---

### **Q49. Remove a field (example: `education`) using `$unset`**

---

### **Q50. Replace one entire job document using `replaceOne()`**

---

### **Q51. Explain in 1–2 lines:**

Why is `replaceOne()` considered dangerous in production?

---

## **SECTION 7 – DELETE OPERATIONS**

### **Q52. Delete one job using `deleteOne()`**

---

### **Q53. Delete multiple jobs using `deleteMany()`**

(Use a safe condition)

---

### **Q54. Count total documents before deletion**

---

### **Q55. Verify total documents after deletion**

---

## **SECTION 8 – SOFT DELETE & SAFE READS**

### **Q56. Implement soft delete**

Add a field:

```javascript
isDeleted: true
```

for one job using `updateOne()`.

---

### **Q57. Modify a read query to ignore soft-deleted jobs**

---

### **Q58. Soft delete all jobs that are closed (`isOpen = false`)**

---

## **SECTION 9 – REAL-WORLD BACKEND THINKING**

### **Q59. Find jobs suitable for freshers**

Conditions:

* experience ≤ 1
* isOpen = true

---

### **Q60. Find high-paying backend jobs**

Conditions:

* role contains `"Backend"`
* salary > 1200000

---

### **Q61. Find jobs that require both `"Node.js"` and `"MongoDB"`**

---

### **Q62. Find jobs that require `"React"` but NOT `"MongoDB"`**

---

### **Q63. Find jobs posted in the last 30 days**

---

### **Q64. Find jobs where salary grows faster than experience**

(Hint: `$expr`)

---

### **Q65. Find companies that are hiring more than one role**

---

### **Q66. Write a query to simulate an API filter**

Filters:

* location
* minExperience
* maxSalary
* isRemote

---

